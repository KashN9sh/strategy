### Чеклист реализации (изометрическая стратегия в стиле Anno)

- **Базовый движок (MVP)**
  - [x] Тики симуляции (фикс. шаг 30–60 Гц), пауза/скорости (0.5x/1x/2x/3x)
  - [x] Горячие клавиши и ребиндинг, конфиг (TOML)
  - [x] Сохранение/загрузка (JSON) с версионированием

- **Рендер и графика**
  - [ ] Атлас тайлов и спрайтов зданий, батчинг блитов
  - [ ] Анимации воды/дыма (кадры/Perlin wobble)
  - [ ] Оверлеи: сетка, подсветка клетки, слои эффективности/покрытия рынком
  - [ ] Z-сортировка зданий, дороги/угловые соединения

- **Мир и чанки**
  - [ ] Генерация чанков в фоне (канал, пул воркеров), прогрев кольца вокруг камеры
  - [ ] Выгрузка дальних чанков (LRU), лимит памяти
  - [ ] Биомы и карты «плодородности» (лес, рыба, глина, камень), береговая линия
  - [ ] Стабильное зерно мира + параметры генерации в сохранении

- **Ввод/камеры**
  - [ ] Камера: плавное панорамирование, инерция, ограничители
  - [ ] Зум со снапом к целым размерам пикселей (без швов)
  - [ ] Перетаскивание правой/средней кнопкой, скролл-поля

- **Строительство**
  - [ ] План-режим (призраки), валидаторы размещения (вода/склон/занято)
  - [ ] Снос/перенос, очередь построек, стоимость/возврат
  - [ ] Дороги с автоподбором спрайтов (tile connectivity)

- **Логистика и ресурсы**
  - [ ] Склады/ёмкость, резервирование, отчёты «чего не хватает»
  - [ ] Производственные цепочки (лесоруб → доски → дом/рынок)
  - [ ] Транспорт: носильщики/повозки, маршруты по дорогам
  - [ ] Баланс: вход/выход в минуту, потребление жителями

- **Население и потребности (Anno-подобное)**
  - [ ] Дома уровней (уровень 1..N), апгрейды при удовлетворении нужд
  - [ ] Потребности: базовые/роскошь, счастье/налоги
  - [ ] Рынки/церкви/развлечения: радиусы влияния, покрытие

- **AI и путь**
  - [ ] Поиск пути (A*) на изометрической сетке с весами дорог
  - [ ] Распределение задач (jobs), приоритеты, очереди заявок
  - [ ] Избежание коллизий/пробок (simple reservation)

- **UI/UX**
  - [ ] Верхняя панель ресурсов, всплывающие тултипы
  - [ ] Меню строительства с категориями, хоткеи
  - [ ] Инфо-панель выбранного здания (статус, вход/выход, склад)
  - [ ] Окно статистики: производительность, баланс по ресурсам

- **Аудио**
  - [ ] Фоновая музыка, звуки размещения/производства
  - [ ] Громкость/мьют в настройках

- **Производительность**
  - [ ] Профилирование (FPS-граф, время шагов), метрики
  - [ ] Кэш проекций экран→тайл на фрейм, отсечение вне экрана
  - [ ] Инкрементальные обновления слоёв/оверлеев

- **Инструменты/моды**
  - [ ] Датадривен-дефы зданий/ресурсов (TOML/YAML)
  - [ ] Редактор карты/биомов, сид-менеджер
  - [ ] Скриншоты/экспорт реплея (seed + действия)

- **Сборки и платформа**
  - [ ] Mac/Win/Linux таргеты, иконка/версия
  - [ ] Настройки окна/VSYNC/Fullscreen, проверка на разных DPI

### Приоритеты

- MVP: рендер/камера без артефактов, чанки с фоновой генерацией, строительство/снос, базовые цепочки, склады, панель ресурсов, сохранение/загрузка.
- Next: дороги+логистика, оверлеи, A*, потребности домов и налоги.
- Later: анимации, аудио, моддинг, редактор, продвинутые биомы.

### Критерии готовности MVP

- 60 FPS в типовом окне; без швов на любом зуме
- Сохранение/загрузка воспроизводит мир и здания
- Лесоруб/дом/склад работают, ресурсы считаются корректно
- Нет утечек при перемещении камеры (чанки грузятся/выгружаются)


