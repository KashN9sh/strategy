### Чеклист реализации (изометрическая стратегия в стиле Anno)

- **Базовый движок (MVP)**
  - [x] Тики симуляции (фикс. шаг 30–60 Гц), пауза/скорости (0.5x/1x/2x/3x)
  - [x] Горячие клавиши и ребиндинг, конфиг (TOML)
  - [x] Сохранение/загрузка (JSON) с версионированием

- **Рендер и графика**
  - [x] Атлас тайлов и спрайтов зданий, блит с альфой
  - [x] Анимации воды (кадровая)
  - [x] Оверлеи: сетка, подсветка клетки/плотности леса
  - [x] Z-сортировка зданий
  - [ ] Дороги/угловые соединения

- **Мир и чанки**
  - [x] Генерация чанков в фоне, прогрев кольца
  - [ ] Выгрузка дальних чанков (LRU), лимит памяти
  - [~] Биомы: базовая шумовая карта, береговая линия
  - [x] Стабильный сид мира в сохранениях

- **Ввод/камеры**
  - [x] Зум со «снэпом» к пикселям (без швов), панорамирование
  - [ ] Плавность/инерция, перетаскивание правой/средней, ограничители

- **Строительство**
  - [x] Размещение, валидаторы (вода/занято)
  - [ ] План-режим (призраки), снос/перенос, возврат
  - [ ] Дороги с автоподбором спрайтов

- **Логистика и ресурсы**
  - [x] Базовые цепочки (лесоруб → дерево; дом потребляет/налог)
  - [ ] Склады/ёмкость, резервирование, отчёты «чего не хватает»
  - [ ] Транспорт: носильщики/повозки, маршруты по дорогам
  - [ ] Баланс: вход/выход в минуту, потребление жителями

- **Население и потребности (Anno-подобное)**
  - [ ] Дома уровней (уровень 1..N), апгрейды при удовлетворении нужд
  - [ ] Потребности: базовые/роскошь, счастье/налоги
  - [ ] Рынки/церкви/развлечения: радиусы влияния, покрытие

- **AI и путь**
  - [ ] Поиск пути (A*) на изометрической сетке с весами дорог
  - [ ] Распределение задач (jobs), приоритеты, очереди заявок
  - [ ] Избежание коллизий/пробок (simple reservation)

- **UI/UX**
  - [x] Верхняя панель ресурсов (масштабируемая), FPS, пауза/скорость
  - [x] Меню строительства (кнопки + хоткеи, кликабельные)
  - [ ] Tooltip’ы, инфо-панель здания, окно статистики

- **Аудио**
  - [ ] Фоновая музыка, звуки размещения/производства
  - [ ] Громкость/мьют в настройках

- **Производительность**
  - [ ] Профилирование (FPS-граф, время шагов), метрики
  - [ ] Кэш проекций экран→тайл на фрейм, отсечение вне экрана
  - [ ] Инкрементальные обновления слоёв/оверлеев

- **Инструменты/моды**
  - [ ] Датадривен-дефы зданий/ресурсов (TOML/YAML)
  - [ ] Редактор карты/биомов, сид-менеджер
  - [ ] Скриншоты/экспорт реплея (seed + действия)

- **Сборки и платформа**
  - [ ] Mac/Win/Linux таргеты, иконка/версия
  - [ ] Настройки окна/VSYNC/Fullscreen, проверка на разных DPI

### Приоритеты

- MVP: рендер/камера без артефактов, чанки с фоновой генерацией, строительство/снос, базовые цепочки, склады, панель ресурсов, сохранение/загрузка.
- Next: дороги+логистика, оверлеи, A*, потребности домов и налоги.
- Later: анимации, аудио, моддинг, редактор, продвинутые биомы.

### Критерии готовности MVP

- 60 FPS в типовом окне; без швов на любом зуме
- Сохранение/загрузка воспроизводит мир и здания
- Лесоруб/дом/склад работают, ресурсы считаются корректно
- Нет утечек при перемещении камеры (чанки грузятся/выгружаются)


